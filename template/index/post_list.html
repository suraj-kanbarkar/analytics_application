{% extends  'index.html' %}
{% block tables %}
{% if posts.has_other_pages %}
<div class="container">
    <ul class="pagination">
        {% if posts.has_previous %}
            <li class="waves-effect"><a href="?page=
                    {{ posts.previous_page_number }}{% if self.GET.q %}&q={{ self.GET.q }}{% endif %}"><i
                    class="material-icons">chevron_left</i></a></li>
        {% else %}
            <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
        {% endif %}
        {% for num in posts.paginator.page_range %}
            {% if posts.number == num %}
                <li class="active"><a href="#!">{{ num }}</a></li>
            {% else %}
                <li class="waves-effect"><a
                        href="?page={{ num }}{% if self.GET.q %}&q={{ self.GET.q }}{% endif %}">{{ num }}</a></li>
            {% endif %}
        {% endfor %}
        {% if posts.has_next %}
            <li class="waves-effect"><a
                    href="?page={{ posts.next_page_number }}{% if self.GET.q %}&q={{ self.GET.q }}{% endif %}"><i
                    class="material-icons">chevron_right</i></a></li>
        {% else %}
            <li class="disabled"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
        {% endif %}
    </ul>
{% endif %}
<form method="GET" >
    <input id="myInput" type="text" name="q" value="{{ self.GET.q }}" placeholder="Search Here...">
</form>

   <table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th class="th-sm">ID</th>
            <th class="th-sm">UNIQUE_ID</th>
            <th class="th-sm">CALL_DATE</th>
            <th class="th-sm">SRC</th>
          </tr>
        </thead>
        {% for j in posts %}
            <tbody id="myTable">
              <tr>
                <td>{{ j.id }}</td>
                <td>{{ j.UNIQUE_ID }}</td>
                <td>{{ j.CALL_DATE }}</td>
                <td>{{ j.SRC }}</td>
              </tr>
            </tbody>
        {% endfor %}
    </table>
    <script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#myTable tr").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
    </script>
    <script>
      $(document).ready(function() {
        $('#dtBasicExample').DataTable( {
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ]
        } );
    } );
  </script>
</div>
{% endblock %}